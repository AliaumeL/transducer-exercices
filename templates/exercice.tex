\documentclass[a4,10pt]{article}

\usepackage[left=3cm, right=3cm, top=3cm, bottom=3cm]{geometry}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage{hyperref}

\usepackage[capitalise,noabbrev,nameinlink]{cleveref}
\usepackage[electronic,hyperref,xcolor,cleveref]{knowledge}
\knowledgeconfigure{notion}

\usepackage{fancyhdr}
\pagestyle{fancy}
\lhead{\today}
\rhead{$title$}

\usepackage{fontspec}
\setmainfont{Dosis}


\newtheorem{exercise}{Exercise}
\newtheorem{hint}{Hint}
\newtheorem{solution}{Solution}
\newtheorem{definition}{Definition}

\newcommand{\tightlist}{}

\title{{\bfseries \Huge{$title$}} \\ Session $session$: $subtitle$}
\author{$author$ \\
        \href{mailto:$email$}{TA mail}\footnote{\url{$email$}}
        \hspace{1em}
        \href{$course-website$}{Course page}\footnote{\url{$course-website$}}
        \hspace{1em}
        \href{$url$}{Exercises page}\footnote{\url{$url$}}
}

%%-- START knowledges %%

$for(knowledges)$
\knowledge{notion}
$for(knowledges.synonyms)$
 | $it$
$endfor$
$endfor$

%%-- END   knowledges %%

\begin{document}

\maketitle

$body$

\clearpage
\appendix

\section{Hints}

$for(hints)$
\begin{hint}[{\cref{$it.eid$} $it.title$}]
    \label{$it.id$}
    $it.content$
\end{hint}
$endfor$

\clearpage
\section{Solutions}

$for(solutions)$
\begin{solution}[Solution to \cref{$it.id$}]
    \label{$it.id$:solution}
    $it.content$
\end{solution}
$endfor$

$if(knowledge-undefined)$
\clearpage
\section{Undefined Notions}
\begin{enumerate}
$for(knowledge-undefined)$
\item \texttt{$it.name$} ($it.count$ usages)
$endfor$
\end{enumerate}
$endif$


\end{document}
